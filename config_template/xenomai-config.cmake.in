file(RELATIVE_PATH _xenomai_pref_from_lib "~#libdir#~" "~#prefix#~")

@PACKAGE_INIT@

include(CMakeFindDependencyMacro)
find_dependency(Threads)

set(_xenomai_threadlib "Threads::Threads")
if(CMAKE_VERSION VERSION_LESS 3.1)
	set(_xenomai_threadlib "${CMAKE_THREAD_LIBS_INIT}")
endif()

# Calculate relative paths, dont know how to do this in autoconf
file(RELATIVE_PATH _xenomai_includedir "~#prefix#~" "~#includedir#~")
file(RELATIVE_PATH _xenomai_libdir "~#prefix#~" "~#libdir#~")

include(${CMAKE_CURRENT_LIST_DIR}/xenomai-targets.cmake)
check_required_components(xenomai)

include(${CMAKE_CURRENT_LIST_DIR}/xenomai-macros.cmake)
unset(_xenomai_threadlib)
unset(_xenomai_libdir)
unset(_xenomai_includedir)
unset(_xenomai_pref_from_lib)
